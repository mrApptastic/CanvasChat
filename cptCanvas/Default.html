<!DOCTYPE html>
<html>
<head>
    <title>captainCanvas</title>
    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.min.css" />    
    <style type="text/css">
        /*
        .container {
            background-color: #99CCFF;
            border: thick solid #808080;
            padding: 20px;
            margin: 20px;
        }
            */

        #toast-container > .toast-info, #toast-container > .toast-error, #toast-container > .toast-success, #toast-container > .toast-warning {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAGwSURBVEhLtZa9SgNBEMc9sUxxRcoUKSzSWIhXpFMhhYWFhaBg4yPYiWCXZxBLERsLRS3EQkEfwCKdjWJAwSKCgoKCcudv4O5YLrt7EzgXhiU3/4+b2ckmwVjJSpKkQ6wAi4gwhT+z3wRBcEz0yjSseUTrcRyfsHsXmD0AmbHOC9Ii8VImnuXBPglHpQ5wwSVM7sNnTG7Za4JwDdCjxyAiH3nyA2mtaTJufiDZ5dCaqlItILh1NHatfN5skvjx9Z38m69CgzuXmZgVrPIGE763Jx9qKsRozWYw6xOHdER+nn2KkO+Bb+UV5CBN6WC6QtBgbRVozrahAbmm6HtUsgtPC19tFdxXZYBOfkbmFJ1VaHA1VAHjd0pp70oTZzvR+EVrx2Ygfdsq6eu55BHYR8hlcki+n+kERUFG8BrA0BwjeAv2M8WLQBtcy+SD6fNsmnB3AlBLrgTtVW1c2QN4bVWLATaIS60J2Du5y1TiJgjSBvFVZgTmwCU+dAZFoPxGEEs8nyHC9Bwe2GvEJv2WXZb0vjdyFT4Cxk3e/kIqlOGoVLwwPevpYHT+00T+hWwXDf4AJAOUqWcDhbwAAAAASUVORK5CYII=") !important;
        }
    </style>
</head>
<body>
    <canvas id="canvasBandit"></canvas>
    <div style="position: fixed; bottom: 0; left:0;">
        <input type="text" id="message" />
        <input type="button" id="sendmessage" value="Send" />
    </div>
    <div id="toolBandit"></div>
    <!--<div class="container">
        <input type="text" id="message" />
        <input type="button" id="sendmessage" value="Send" />
        <ul id="discussion"></ul>
    </div>-->
    <!--Script references. -->
    <!--Reference the jQuery library. -->
    <script src="Scripts/jquery-1.6.4.min.js" "></script>
    <!--Reference the SignalR library. -->
    <script src="/Scripts/jquery.signalR-2.0.0.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js"></script>
    <!--Reference the autogenerated SignalR hub script. -->
    <script src="/signalr/hubs"></script>
    <script src="Scripts/captainCanvas.js"></script>

    <!--Add script to update the page and send messages.-->
    <script type="text/javascript">
        var myName = "";
        var names = ["Aardwolf", "Admiral, indian red", "Adouri (unidentified)", "African black crake", "African buffalo", "African bush squirrel", "African clawless otter", "African darter", "African elephant", "African fish eagle", "African ground squirrel (unidentified)", "African jacana", "African lion", "African lynx", "African pied wagtail", "African polecat", "African porcupine", "African red-eyed bulbul", "African skink", "African snake (unidentified)", "African wild cat", "African wild dog", "Agama lizard (unidentified)", "Agile wallaby", "Agouti", "Albatross, galapagos", "Albatross, waved", "Alligator, american", "Alligator, mississippi", "Alpaca", "Amazon parrot (unidentified)", "American Virginia opossum", "American alligator", "American badger", "American beaver", "American bighorn sheep", "American bison", "American black bear", "American buffalo", "American crow", "American marten", "American racer", "American woodcock", "Anaconda (unidentified)", "Andean goose", "Ant (unidentified)", "Anteater, australian spiny", "Anteater, giant", "Antechinus, brown", "Antelope ground squirrel", "Antelope, four-horned", "Antelope, roan", "Antelope, sable", "Arboral spiny rat", "Arctic fox", "Arctic ground squirrel", "Arctic hare", "Arctic lemming", "Arctic tern", "Argalis", "Armadillo, common long-nosed", "Armadillo, giant", "Armadillo, nine-banded", "Armadillo, seven-banded", "Asian elephant", "Asian false vampire bat", "Asian foreset tortoise", "Asian lion", "Asian openbill", "Asian red fox", "Asian water buffalo", "Asian water dragon", "Asiatic jackal", "Asiatic wild ass", "Ass, asiatic wild", "Australian brush turkey", "Australian magpie", "Australian masked owl", "Australian pelican", "Australian sea lion", "Australian spiny anteater", "Avocet, pied", "Azaras zorro", "Baboon, chacma", "Baboon, gelada", "Baboon, olive", "Baboon, savanna", "Baboon, yellow", "Badger, american", "Badger, eurasian", "Badger, european", "Badger, honey", "Bahama pintail", "Bald eagle", "Baleen whale", "Banded mongoose", "Bandicoot, long-nosed", "Bandicoot, short-nosed", "Bandicoot, southern brown", "Barasingha deer", "Barbet, black-collared", "Barbet, crested", "Barbet, levaillants", "Bare-faced go away bird", "Barking gecko", "Barrows goldeneye", "Bat, asian false vampire", "Bat, little brown", "Bat, madagascar fruit", "Bat-eared fox", "Bateleur eagle", "Bear, american black", "Bear, black", "Bear, grizzly", "Bear, polar", "Bear, sloth", "Beaver, american", "Beaver, eurasian", "Beaver, european", "Beaver, north american", "Bee-eater (unidentified)", "Bee-eater, carmine", "Bee-eater, nubian", "Bee-eater, white-fronted", "Beisa oryx", "Bengal vulture", "Bennetts wallaby", "Bent-toed gecko", "Bettong, brush-tailed", "Bird (unidentified)", "Bird, bare-faced go away", "Bird, black-throated butcher", "Bird, magnificent frigate", "Bird, pied butcher", "Bird, red-billed tropic", "Bird, secretary", "Bison, american", "Black and white colobus", "Black bear", "Black curlew", "Black kite", "Black rhinoceros", "Black spider monkey", "Black swan", "Black vulture", "Black-backed jackal", "Black-backed magpie", "Black-capped capuchin", "Black-capped chickadee", "Black-cheeked waxbill", "Black-collared barbet", "Black-crowned crane", "Black-crowned night heron", "Black-eyed bulbul", "Black-faced kangaroo", "Black-footed ferret", "Black-fronted bulbul", "Black-necked stork", "Black-tailed deer", "Black-tailed prairie dog", "Black-tailed tree creeper", "Black-throated butcher bird", "Black-throated cardinal", "Black-winged stilt", "Blackbird, red-winged", "Blackbuck", "Blackish oystercatcher", "Blacksmith plover", "Bleeding heart monkey", "Blesbok", "Bleu, blue-breasted cordon", "Bleu, red-cheeked cordon", "Blue and gold macaw", "Blue and yellow macaw", "Blue catfish", "Blue crane", "Blue duck", "Blue fox", "Blue peacock", "Blue racer", "Blue shark", "Blue waxbill", "Blue wildebeest", "Blue-breasted cordon bleu", "Blue-faced booby", "Blue-footed booby", "Blue-tongued lizard", "Blue-tongued skink", "Boa, columbian rainbow", "Boa, cooks tree", "Boa, emerald green tree", "Boa, malagasy ground", "Boa, mexican", "Boar, wild", "Boat-billed heron", "Bobcat", "Bohor reedbuck", "Bonnet macaque", "Bontebok", "Booby, blue-faced", "Booby, blue-footed", "Booby, masked", "Bottle-nose dolphin", "Boubou, southern", "Brazilian otter", "Brazilian tapir", "Brindled gnu", "Brocket, brown", "Brocket, red", "Brolga crane", "Brown and yellow marshbird", "Brown antechinus", "Brown brocket", "Brown capuchin", "Brown hyena", "Brown lemur", "Brown pelican", "Brush-tailed bettong", "Brush-tailed phascogale", "Brush-tailed rat kangaroo", "Buffalo, african", "Buffalo, american", "Buffalo, asian water", "Buffalo, wild water", "Bulbul, african red-eyed", "Bulbul, black-eyed", "Bulbul, black-fronted", "Bunting, crested", "Burchells gonolek", "Burmese black mountain tortoise", "Burmese brown mountain tortoise", "Burrowing owl", "Bush dog", "Bushbaby, large-eared", "Bushbuck", "Bushpig", "Bustard, denhams", "Bustard, kori", "Bustard, stanley", "Butterfly (unidentified)", "Butterfly, canadian tiger swallowtail", "Butterfly, tropical buckeye", "Buttermilk snake", "Caiman, spectacled", "California sea lion", "Camel, dromedary", "Campo flicker", "Canada goose", "Canadian river otter", "Canadian tiger swallowtail butterfly", "Cape Barren goose", "Cape clawless otter", "Cape cobra", "Cape fox", "Cape raven", "Cape starling", "Cape white-eye", "Cape wild cat", "Capuchin, black-capped", "Capuchin, brown", "Capuchin, weeper", "Capuchin, white-fronted", "Capybara", "Caracal", "Caracara (unidentified)", "Caracara, yellow-headed", "Cardinal, black-throated", "Cardinal, red-capped", "Caribou", "Carmine bee-eater", "Carpet python", "Carpet snake", "Cat, african wild", "Cat, cape wild", "Cat, civet", "Cat, european wild", "Cat, jungle", "Cat, kaffir", "Cat, long-tailed spotted", "Cat, miners", "Cat, native", "Cat, ringtail", "Cat, tiger", "Cat, toddy", "Catfish, blue", "Cattle egret", "Cereopsis goose", "Chacma baboon", "Chameleon (unidentified)", "Cheetah", "Chestnut weaver", "Chickadee, black-capped", "Chilean flamingo", "Chimpanzee", "Chipmunk, least", "Chital", "Chuckwalla", "Civet (unidentified)", "Civet cat", "Civet, common palm", "Civet, small-toothed palm", "Clarks nutcracker", "Cliffchat, mocking", "Coatimundi, ring-tailed", "Coatimundi, white-nosed", "Cobra (unidentified)", "Cobra, cape", "Cobra, egyptian", "Cockatoo, long-billed", "Cockatoo, red-breasted", "Cockatoo, red-tailed", "Cockatoo, roseate", "Cockatoo, slender-billed", "Cockatoo, sulfur-crested", "Cokes hartebeest", "Collared lemming", "Collared lizard", "Collared peccary", "Colobus, black and white", "Colobus, magistrate black", "Colobus, white-mantled", "Columbian rainbow boa", "Comb duck", "Common boubou shrike", "Common brushtail possum", "Common dolphin", "Common duiker", "Common eland", "Common genet", "Common goldeneye", "Common green iguana", "Common grenadier", "Common langur", "Common long-nosed armadillo", "Common melba finch", "Common mynah", "Common nighthawk", "Common palm civet", "Common pheasant", "Common raccoon", "Common rhea", "Common ringtail", "Common seal", "Common shelduck", "Common turkey", "Common wallaroo", "Common waterbuck", "Common wolf", "Common wombat", "Common zebra", "Common zorro", "Constrictor, eastern boa", "Cooks tree boa", "Coot, red-knobbed", "Coqui francolin", "Coqui partridge", "Corella, long-billed", "Cormorant (unidentified)", "Cormorant, flightless", "Cormorant, great", "Cormorant, javanese", "Cormorant, king", "Cormorant, large", "Cormorant, little", "Cormorant, neotropic", "Cormorant, pied", "Cottonmouth", "Cougar", "Cow, scottish highland", "Coyote", "Crab (unidentified)", "Crab, red lava", "Crab, sally lightfoot", "Crab-eating fox", "Crab-eating raccoon", "Crake, african black", "Crane, black-crowned", "Crane, blue", "Crane, brolga", "Crane, sandhill", "Crane, sarus", "Crane, stanley", "Crane, wattled", "Creeper, black-tailed tree", "Crested barbet", "Crested bunting", "Crested porcupine", "Crested screamer", "Crimson-breasted shrike", "Crocodile, nile", "Crow, american", "Crow, house", "Crow, pied", "Crown of thorns starfish", "Crowned eagle", "Crowned hawk-eagle", "Cuis", "Curlew, black", "Currasow (unidentified)", "Curve-billed thrasher", "Dabchick", "Dama wallaby", "Dark-winged trumpeter", "Darter, african", "Darwin ground finch (unidentified)", "Dassie", "Deer, barasingha", "Deer, black-tailed", "Deer, mule", "Deer, red", "Deer, roe", "Deer, savannah", "Deer, spotted", "Deer, swamp", "Deer, white-tailed", "Defassa waterbuck", "Denhams bustard", "Desert kangaroo rat", "Desert spiny lizard", "Desert tortoise", "Devil, tasmanian", "Dik, kirks dik", "Dingo", "Dog, african wild", "Dog, black-tailed prairie", "Dog, bush", "Dog, raccoon", "Dolphin, bottle-nose", "Dolphin, common", "Dolphin, striped", "Dove, emerald-spotted wood", "Dove, galapagos", "Dove, laughing", "Dove, little brown", "Dove, mourning collared", "Dove, ring", "Dove, rock", "Dove, white-winged", "Downy woodpecker", "Dragon, asian water", "Dragon, frilled", "Dragon, komodo", "Dragon, netted rock", "Dragon, ornate rock", "Dragon, western bearded", "Dragonfly, russian", "Dromedary camel", "Drongo, fork-tailed", "Duck, blue", "Duck, comb", "Duck, mountain", "Duck, white-faced whistling", "Duiker, common", "Duiker, gray", "Dunnart, fat-tailed", "Dusky gull", "Dusky rattlesnake", "Eagle owl (unidentified)", "Eagle, african fish", "Eagle, bald", "Eagle, bateleur", "Eagle, crowned", "Eagle, golden", "Eagle, long-crested hawk", "Eagle, pallass fish", "Eagle, tawny", "Eagle, white-bellied sea", "Eastern boa constrictor", "Eastern box turtle", "Eastern cottontail rabbit", "Eastern diamondback rattlesnake", "Eastern dwarf mongoose", "Eastern fox squirrel", "Eastern grey kangaroo", "Eastern indigo snake", "Eastern quoll", "Eastern white pelican", "Echidna, short-beaked", "Egret, cattle", "Egret, great", "Egret, snowy", "Egyptian cobra", "Egyptian goose", "Egyptian viper", "Egyptian vulture", "Eland, common", "Elegant crested tinamou", "Elephant, african", "Elephant, asian", "Eleven-banded armadillo (unidentified)", "Elk, Wapiti", "Emerald green tree boa", "Emerald-spotted wood dove", "Emu", "Eurasian badger", "Eurasian beaver", "Eurasian hoopoe", "Eurasian red squirrel", "Euro wallaby", "European badger", "European beaver", "European red squirrel", "European shelduck", "European spoonbill", "European stork", "European wild cat", "Fairy penguin", "Falcon, peregrine", "Falcon, prairie", "Fat-tailed dunnart", "Feathertail glider", "Feral rock pigeon", "Ferret, black-footed", "Ferruginous hawk", "Field flicker", "Finch, common melba", "Fisher", "Flamingo, chilean", "Flamingo, greater", "Flamingo, lesser", "Flamingo, roseat", "Flicker, campo", "Flicker, field", "Flightless cormorant", "Flycatcher, tyrant", "Flying fox (unidentified)", "Fork-tailed drongo", "Four-horned antelope", "Four-spotted skimmer", "Four-striped grass mouse", "Fowl, helmeted guinea", "Fox, arctic", "Fox, asian red", "Fox, bat-eared", "Fox, blue", "Fox, cape", "Fox, crab-eating", "Fox, grey", "Fox, north american red", "Fox, pampa gray", "Fox, savanna", "Fox, silver-backed", "Francolin, coqui", "Francolin, swainsons", "Frilled dragon", "Frilled lizard", "Fringe-eared oryx", "Frog (unidentified)", "Frogmouth, tawny", "Galah", "Galapagos albatross", "Galapagos dove", "Galapagos hawk", "Galapagos mockingbird", "Galapagos penguin", "Galapagos sea lion", "Galapagos tortoise", "Gambels quail", "Gaur", "Gazelle, grants", "Gazelle, thomsons", "Gazer, sun", "Gecko (unidentified)", "Gecko, barking", "Gecko, bent-toed", "Gecko, ring-tailed", "Gecko, tokay", "Gelada baboon", "Gemsbok", "Genet, common", "Genet, small-spotted", "Genoveva", "Gerbil (unidentified)", "Gerenuk", "Giant anteater", "Giant armadillo", "Giant girdled lizard", "Giant heron", "Giant otter", "Gila monster", "Giraffe", "Glider, feathertail", "Glider, squirrel", "Glider, sugar", "Glossy ibis", "Glossy starling (unidentified)", "Gnu, brindled", "Goanna lizard", "Goat, mountain", "Godwit, hudsonian", "Golden brush-tailed possum", "Golden eagle", "Golden jackal", "Golden-mantled ground squirrel", "Goldeneye, barrows", "Goldeneye, common", "Goliath heron", "Gonolek, burchells", "Goose, andean", "Goose, canada", "Goose, cape barren", "Goose, cereopsis", "Goose, egyptian", "Goose, greylag", "Goose, knob-nosed", "Goose, snow", "Goose, spur-winged", "Gorilla, western lowland", "Grants gazelle", "Gray duiker", "Gray heron", "Gray langur", "Gray rhea", "Great cormorant", "Great egret", "Great horned owl", "Great kiskadee", "Great skua", "Great white pelican", "Greater adjutant stork", "Greater blue-eared starling", "Greater flamingo", "Greater kudu", "Greater rhea", "Greater roadrunner", "Greater sage grouse", "Grebe, little", "Green heron", "Green vine snake", "Green-backed heron", "Green-winged macaw", "Green-winged trumpeter", "Grenadier, common", "Grenadier, purple", "Grey fox", "Grey heron", "Grey lourie", "Grey mouse lemur", "Grey phalarope", "Grey-footed squirrel", "Greylag goose", "Griffon vulture", "Grison", "Grizzly bear", "Ground legaan", "Ground monitor (unidentified)", "Groundhog", "Grouse, greater sage", "Grouse, sage", "Guanaco", "Guerza", "Gull, dusky", "Gull, herring", "Gull, kelp", "Gull, lava", "Gull, pacific", "Gull, silver", "Gull, southern black-backed", "Gull, swallow-tail", "Gulls (unidentified)", "Hanuman langur", "Harbor seal", "Hare, arctic", "Hartebeest, cokes", "Hartebeest, red", "Hawk, ferruginous", "Hawk, galapagos", "Hawk, red-tailed", "Hawk-eagle, crowned", "Hawk-headed parrot", "Hedgehog, south african", "Helmeted guinea fowl", "Hen, sage", "Heron, black-crowned night", "Heron, boat-billed", "Heron, giant", "Heron, goliath", "Heron, gray", "Heron, green", "Heron, green-backed", "Heron, grey", "Heron, little", "Heron, striated", "Heron, yellow-crowned night", "Herring gull", "Hippopotamus", "Hoary marmot", "Hoffmans sloth", "Honey badger", "Hoopoe, eurasian", "Hornbill, leadbeateris ground", "Hornbill, red-billed", "Hornbill, southern ground", "Hornbill, yellow-billed", "Horned lark", "Horned puffin", "Horned rattlesnake", "Hottentot teal", "House crow", "House sparrow", "Hudsonian godwit", "Hummingbird (unidentified)", "Huron", "Hyena, brown", "Hyena, spotted", "Hyena, striped", "Hyrax", "Ibex", "Ibis, glossy", "Ibis, puna", "Ibis, sacred", "Iguana, common green", "Iguana, land", "Iguana, marine", "Impala", "Indian giant squirrel", "Indian jackal", "Indian leopard", "Indian mynah", "Indian peacock", "Indian porcupine", "Indian red admiral", "Indian star tortoise", "Indian tree pie", "Insect, stick", "Jabiru stork", "Jacana, african", "Jackal, asiatic", "Jackal, black-backed", "Jackal, golden", "Jackal, indian", "Jackal, silver-backed", "Jackrabbit, white-tailed", "Jaeger, long-tailed", "Jaguar", "Jaguarundi", "Japanese macaque", "Javan gold-spotted mongoose", "Javanese cormorant", "Jungle cat", "Jungle kangaroo", "Kaffir cat", "Kafue flats lechwe", "Kalahari scrub robin", "Kangaroo, black-faced", "Kangaroo, brush-tailed rat", "Kangaroo, eastern grey", "Kangaroo, jungle", "Kangaroo, red", "Kangaroo, western grey", "Kelp gull", "Killer whale", "King cormorant", "King vulture", "Kingfisher, malachite", "Kingfisher, pied", "Kingfisher, white-throated", "Kinkajou", "Kirks dik dik", "Kiskadee, great", "Kite, black", "Klipspringer", "Knob-nosed goose", "Koala", "Komodo dragon", "Kongoni", "Kookaburra, laughing", "Kori bustard", "Kudu, greater", "Land iguana", "Langur, common", "Langur, gray", "Langur, hanuman", "Lappet-faced vulture", "Lapwing (unidentified)", "Lapwing, southern", "Large cormorant", "Large-eared bushbaby", "Lark, horned", "Laughing dove", "Laughing kookaburra", "Lava gull", "Leadbeateris ground hornbill", "Least chipmunk", "Lechwe, kafue flats", "Legaan, Monitor (unidentified)", "Legaan, ground", "Legaan, water", "Lemming, arctic", "Lemming, collared", "Lemur, brown", "Lemur, grey mouse", "Lemur, lesser mouse", "Lemur, ring-tailed", "Lemur, sportive", "Leopard", "Leopard, indian", "Lesser double-collared sunbird", "Lesser flamingo", "Lesser masked weaver", "Lesser mouse lemur", "Levaillants barbet", "Lilac-breasted roller", "Lily trotter", "Lion, african", "Lion, asian", "Lion, australian sea", "Lion, california sea", "Lion, galapagos sea", "Lion, mountain", "Lion, south american sea", "Lion, southern sea", "Lion, steller sea", "Lion, stellers sea", "Little blue penguin", "Little brown bat", "Little brown dove", "Little cormorant", "Little grebe", "Little heron", "Lizard (unidentified)", "Lizard, blue-tongued", "Lizard, collared", "Lizard, desert spiny", "Lizard, frilled", "Lizard, giant girdled", "Lizard, goanna", "Lizard, mexican beaded", "Llama", "Long-billed cockatoo", "Long-billed corella", "Long-crested hawk eagle", "Long-finned pilot whale", "Long-necked turtle", "Long-nosed bandicoot", "Long-tailed jaeger", "Long-tailed skua", "Long-tailed spotted cat", "Lorikeet, scaly-breasted", "Loris, slender", "Lory, rainbow", "Lourie, grey", "Lynx, african", "Macaque, bonnet", "Macaque, japanese", "Macaque, pig-tailed", "Macaque, rhesus", "Macaw, blue and gold", "Macaw, blue and yellow", "Macaw, green-winged", "Macaw, red and blue", "Macaw, scarlet", "Madagascar fruit bat", "Madagascar hawk owl", "Magellanic penguin", "Magistrate black colobus", "Magnificent frigate bird", "Magpie, australian", "Magpie, black-backed", "Malabar squirrel", "Malachite kingfisher", "Malagasy ground boa", "Malay squirrel (unidentified)", "Mallard", "Malleefowl", "Manatee", "Mandras tree shrew", "Mara", "Marabou stork", "Margay", "Marine iguana", "Marmot, hoary", "Marmot, yellow-bellied", "Marshbird, brown and yellow", "Marten, american", "Masked booby", "Meerkat", "Meerkat, red", "Mexican beaded lizard", "Mexican boa", "Mexican wolf", "Miners cat", "Mississippi alligator", "Moccasin, water", "Mocking cliffchat", "Mockingbird, galapagos", "Mongoose, banded", "Mongoose, eastern dwarf", "Mongoose, javan gold-spotted", "Mongoose, small indian", "Mongoose, yellow", "Monitor lizard (unidentified)", "Monitor, two-banded", "Monitor, water", "Monitor, white-throated", "Monkey, black spider", "Monkey, bleeding heart", "Monkey, red howler", "Monkey, rhesus", "Monkey, vervet", "Monster, gila", "Moorhen, purple", "Moose", "Mouflon", "Mountain duck", "Mountain goat", "Mountain lion", "Mourning collared dove", "Mouse, four-striped grass", "Mudskipper (unidentified)", "Mule deer", "Musk ox", "Mynah, common", "Mynah, indian", "Native cat", "Nelson ground squirrel", "Neotropic cormorant", "Netted rock dragon", "Nighthawk, common", "Nile crocodile", "Nilgai", "Nine-banded armadillo", "North American beaver", "North American porcupine", "North American red fox", "North American river otter", "Northern elephant seal", "Northern fur seal", "Northern phalarope", "Nubian bee-eater", "Numbat", "Nutcracker, clarks", "Nuthatch, red-breasted", "Nyala", "Ocelot", "Old world fruit bat (unidentified)", "Olive baboon", "Onager", "Openbill stork", "Openbill, asian", "Opossum, american virginia", "Orca", "Oribi", "Oriental short-clawed otter", "Oriental white-backed vulture", "Ornate rock dragon", "Oryx, beisa", "Oryx, fringe-eared", "Osprey", "Ostrich", "Otter, african clawless", "Otter, brazilian", "Otter, canadian river", "Otter, cape clawless", "Otter, giant", "Otter, north american river", "Otter, oriental short-clawed", "Otter, small-clawed", "Ovenbird", "Owl, australian masked", "Owl, burrowing", "Owl, great horned", "Owl, madagascar hawk", "Owl, snowy", "Owl, white-browed", "Ox, musk", "Oystercatcher, blackish", "Paca", "Pacific gull", "Paddy heron (unidentified)", "Pademelon, red-legged", "Painted stork", "Pale white-eye", "Pale-throated three-toed sloth", "Pallass fish eagle", "Palm squirrel", "Pampa gray fox", "Paradoxure", "Parakeet, rose-ringed", "Parrot, hawk-headed", "Partridge, coqui", "Peacock, blue", "Peacock, indian", "Peccary, collared", "Peccary, white-lipped", "Pelican, australian", "Pelican, brown", "Pelican, eastern white", "Pelican, great white", "Penguin, fairy", "Penguin, galapagos", "Penguin, little blue", "Penguin, magellanic", "Peregrine falcon", "Phalarope, grey", "Phalarope, northern", "Phalarope, red", "Phalarope, red-necked", "Phascogale, brush-tailed", "Phascogale, red-tailed", "Pheasant, common", "Pheasant, ring-necked", "Pie, indian tree", "Pie, rufous tree", "Pied avocet", "Pied butcher bird", "Pied cormorant", "Pied crow", "Pied kingfisher", "Pig-tailed macaque", "Pigeon, feral rock", "Pigeon, wood", "Pine siskin", "Pine snake (unidentified)", "Pine squirrel", "Pintail, bahama", "Pintail, white-cheeked", "Plains zebra", "Platypus", "Plover, blacksmith", "Plover, three-banded", "Pocket gopher (unidentified)", "Polar bear", "Polecat, african", "Porcupine, african", "Porcupine, crested", "Porcupine, indian", "Porcupine, north american", "Porcupine, prehensile-tailed", "Porcupine, tree", "Possum, common brushtail", "Possum, golden brush-tailed", "Possum, pygmy", "Possum, ring-tailed", "Possum, western pygmy", "Potoroo", "Prairie falcon", "Praying mantis (unidentified)", "Prehensile-tailed porcupine", "Pronghorn", "Puffin, horned", "Puku", "Puma", "Puma, south american", "Puna ibis", "Purple grenadier", "Purple moorhen", "Pygmy possum", "Python (unidentified)", "Python, carpet", "Quail, gambels", "Quoll, eastern", "Quoll, spotted-tailed", "Rabbit, eastern cottontail", "Raccoon dog", "Raccoon, common", "Raccoon, crab-eating", "Racer snake", "Racer, american", "Racer, blue", "Radiated tortoise", "Rainbow lory", "Rat, arboral spiny", "Rat, desert kangaroo", "Rat, white-faced tree", "Rattlesnake, dusky", "Rattlesnake, eastern diamondback", "Rattlesnake, horned", "Raven, cape", "Raven, white-necked", "Red and blue macaw", "Red brocket", "Red deer", "Red hartebeest", "Red howler monkey", "Red kangaroo", "Red lava crab", "Red meerkat", "Red phalarope", "Red sheep", "Red squirrel", "Red-billed buffalo weaver", "Red-billed hornbill", "Red-billed toucan", "Red-billed tropic bird", "Red-breasted cockatoo", "Red-breasted nuthatch", "Red-capped cardinal", "Red-cheeked cordon bleu", "Red-headed woodpecker", "Red-knobbed coot", "Red-legged pademelon", "Red-necked phalarope", "Red-necked wallaby", "Red-shouldered glossy starling", "Red-tailed cockatoo", "Red-tailed hawk", "Red-tailed phascogale", "Red-tailed wambenger", "Red-winged blackbird", "Red-winged hawk (unidentified)", "Reedbuck, bohor", "Reindeer", "Rhea, common", "Rhea, gray", "Rhea, greater", "Rhesus macaque", "Rhesus monkey", "Rhinoceros, black", "Rhinoceros, square-lipped", "Rhinoceros, white", "Richardsons ground squirrel", "Ring dove", "Ring-necked pheasant", "Ring-tailed coatimundi", "Ring-tailed gecko", "Ring-tailed lemur", "Ring-tailed possum", "Ringtail", "Ringtail cat", "Ringtail, common", "River wallaby", "Roadrunner, greater", "Roan antelope", "Robin, kalahari scrub", "Robin, white-throated", "Rock dove", "Roe deer", "Roller, lilac-breasted", "Rose-ringed parakeet", "Roseat flamingo", "Roseate cockatoo", "Royal tern", "Rufous tree pie", "Rufous-collared sparrow", "Russian dragonfly", "Sable antelope", "Sacred ibis", "Saddle-billed stork", "Sage grouse", "Sage hen", "Sally lightfoot crab", "Salmon pink bird eater tarantula", "Salmon, sockeye", "Sambar", "Sandgrouse, yellow-throated", "Sandhill crane", "Sandpiper, spotted wood", "Sarus crane", "Savanna baboon", "Savanna fox", "Savannah deer", "Savannah deer (unidentified)", "Scaly-breasted lorikeet", "Scarlet macaw", "Scottish highland cow", "Screamer, crested", "Screamer, southern", "Sea birds (unidentified)", "Seal, common", "Seal, harbor", "Seal, northern elephant", "Seal, northern fur", "Seal, southern elephant", "Secretary bird", "Serval", "Seven-banded armadillo", "Shark, blue", "Sheathbill, snowy", "Sheep, american bighorn", "Sheep, red", "Sheep, stone", "Shelduck, common", "Shelduck, european", "Short-beaked echidna", "Short-nosed bandicoot", "Shrew, mandras tree", "Shrike, common boubou", "Shrike, crimson-breasted", "Shrike, southern white-crowned", "Sidewinder", "Sifaka, verreauxs", "Silver gull", "Silver-backed fox", "Silver-backed jackal", "Siskin, pine", "Siskin, yellow-rumped", "Skimmer, four-spotted", "Skink, african", "Skink, blue-tongued", "Skua, great", "Skua, long-tailed", "Skunk, striped", "Skunk, western spotted", "Slender loris", "Slender-billed cockatoo", "Sloth bear", "Sloth, hoffmans", "Sloth, pale-throated three-toed", "Sloth, two-toed", "Sloth, two-toed tree", "Small Indian mongoose", "Small-clawed otter", "Small-spotted genet", "Small-toothed palm civet", "Smiths bush squirrel", "Snake (unidentified)", "Snake, buttermilk", "Snake, carpet", "Snake, eastern indigo", "Snake, green vine", "Snake, racer", "Snake, tiger", "Snake, western patch-nosed", "Snake-necked turtle", "Snow goose", "Snowy egret", "Snowy owl", "Snowy sheathbill", "Sociable weaver", "Sockeye salmon", "South African hedgehog", "South American meadowlark (unidentified)", "South American puma", "South American sea lion", "Southern black-backed gull", "Southern boubou", "Southern brown bandicoot", "Southern elephant seal", "Southern ground hornbill", "Southern hairy-nosed wombat", "Southern lapwing", "Southern right whale", "Southern screamer", "Southern sea lion", "Southern tamandua", "Southern white-crowned shrike", "Sparrow, house", "Sparrow, rufous-collared", "Spectacled caiman", "Spider, wolf", "Spoonbill, european", "Spoonbill, white", "Sportive lemur", "Spotted deer", "Spotted hyena", "Spotted wood sandpiper", "Spotted-tailed quoll", "Springbok", "Springbuck", "Springhare", "Spur-winged goose", "Spurfowl, yellow-necked", "Square-lipped rhinoceros", "Squirrel glider", "Squirrel, african bush", "Squirrel, antelope ground", "Squirrel, arctic ground", "Squirrel, eastern fox", "Squirrel, eurasian red", "Squirrel, european red", "Squirrel, golden-mantled ground", "Squirrel, grey-footed", "Squirrel, indian giant", "Squirrel, malabar", "Squirrel, nelson ground", "Squirrel, palm", "Squirrel, pine", "Squirrel, red", "Squirrel, richardsons ground", "Squirrel, smiths bush", "Squirrel, thirteen-lined", "Squirrel, uinta ground", "Stanley bustard", "Stanley crane", "Starfish, crown of thorns", "Starling, cape", "Starling, greater blue-eared", "Starling, red-shouldered glossy", "Starling, superb", "Steenbok", "Steenbuck", "Steller sea lion", "Stellers sea lion", "Stick insect", "Stilt, black-winged", "Stone sheep", "Stork, black-necked", "Stork, european", "Stork, greater adjutant", "Stork, jabiru", "Stork, marabou", "Stork, openbill", "Stork, painted", "Stork, saddle-billed", "Stork, white", "Stork, white-necked", "Stork, woolly-necked", "Stork, yellow-billed", "Striated heron", "Striped dolphin", "Striped hyena", "Striped skunk", "Sugar glider", "Sulfur-crested cockatoo", "Sun gazer", "Sunbird, lesser double-collared", "Sungazer, yellow-brown", "Superb starling", "Suricate", "Swainsons francolin", "Swallow (unidentified)", "Swallow-tail gull", "Swamp deer", "Swan, black", "Swan, trumpeter", "Tailless tenrec", "Tamandua, southern", "Tammar wallaby", "Tapir, brazilian", "Tarantula", "Tarantula, salmon pink bird eater", "Tasmanian devil", "Tawny eagle", "Tawny frogmouth", "Tayra", "Teal, hottentot", "Tenrec, tailless", "Tern, arctic", "Tern, royal", "Tern, white-winged", "Tern, white-winged black", "Thirteen-lined squirrel", "Thomsons gazelle", "Thrasher, curve-billed", "Three-banded plover", "Tiger", "Tiger cat", "Tiger snake", "Timber wolf", "Tinamou, elegant crested", "Toddy cat", "Tokay gecko", "Topi", "Tortoise, asian foreset", "Tortoise, burmese black mountain", "Tortoise, burmese brown mountain", "Tortoise, desert", "Tortoise, galapagos", "Tortoise, indian star", "Tortoise, radiated", "Toucan, red-billed", "Toucan, white-throated", "Tree porcupine", "Tropical buckeye butterfly", "Trotter, lily", "Trumpeter swan", "Trumpeter, dark-winged", "Trumpeter, green-winged", "Tsessebe", "Turaco, violet-crested", "Turkey vulture", "Turkey, australian brush", "Turkey, common", "Turkey, wild", "Turtle (unidentified)", "Turtle, eastern box", "Turtle, long-necked", "Turtle, snake-necked", "Two-banded monitor", "Two-toed sloth", "Two-toed tree sloth", "Tyrant flycatcher", "Uinta ground squirrel", "Urial", "Verreauxs sifaka", "Vervet monkey", "Vicuna", "Vine snake (unidentified)", "Violet-crested turaco", "Violet-eared waxbill", "Viper, egyptian", "Vulture, bengal", "Vulture, black", "Vulture, egyptian", "Vulture, griffon", "Vulture, king", "Vulture, lappet-faced", "Vulture, oriental white-backed", "Vulture, turkey", "Vulture, white-headed", "Vulture, white-rumped", "Wagtail, african pied", "Wallaby, agile", "Wallaby, bennetts", "Wallaby, dama", "Wallaby, euro", "Wallaby, red-necked", "Wallaby, river", "Wallaby, tammar", "Wallaby, whip-tailed", "Wallaroo, common", "Wambenger, red-tailed", "Wapiti, elk,", "Warthog", "Water legaan", "Water moccasin", "Water monitor", "Waterbuck, common", "Waterbuck, defassa", "Wattled crane", "Waved albatross", "Waxbill, black-cheeked", "Waxbill, blue", "Waxbill, violet-eared", "Weaver, chestnut", "Weaver, lesser masked", "Weaver, red-billed buffalo", "Weaver, sociable", "Weaver, white-browed sparrow", "Weeper capuchin", "Western bearded dragon", "Western grey kangaroo", "Western lowland gorilla", "Western palm tanager (unidentified)", "Western patch-nosed snake", "Western pygmy possum", "Western spotted skunk", "Whale, baleen", "Whale, killer", "Whale, long-finned pilot", "Whale, southern right", "Whip-tailed wallaby", "White rhinoceros", "White spoonbill", "White stork", "White-bellied sea eagle", "White-browed owl", "White-browed sparrow weaver", "White-cheeked pintail", "White-eye, cape", "White-eye, pale", "White-faced tree rat", "White-faced whistling duck", "White-fronted bee-eater", "White-fronted capuchin", "White-headed vulture", "White-lipped peccary", "White-mantled colobus", "White-necked raven", "White-necked stork", "White-nosed coatimundi", "White-rumped vulture", "White-tailed deer", "White-tailed jackrabbit", "White-throated kingfisher", "White-throated monitor", "White-throated robin", "White-throated toucan", "White-winged black tern", "White-winged dove", "White-winged tern", "Wild boar", "Wild turkey", "Wild water buffalo", "Wildebeest, blue", "Wolf spider", "Wolf, common", "Wolf, mexican", "Wolf, timber", "Wombat, common", "Wombat, southern hairy-nosed", "Wood pigeon", "Woodchuck", "Woodcock, american", "Woodpecker, downy", "Woodpecker, red-headed", "Woodrat (unidentified)", "Woolly-necked stork", "Worm snake (unidentified)", "Woylie", "Yak", "Yellow baboon", "Yellow mongoose", "Yellow-bellied marmot", "Yellow-billed hornbill", "Yellow-billed stork", "Yellow-brown sungazer", "Yellow-crowned night heron", "Yellow-headed caracara", "Yellow-necked spurfowl", "Yellow-rumped siskin", "Yellow-throated sandgrouse", "Zebra, common", "Zebra, plains", "Zorilla", "Zorro, azaras", "Zorro, common"];
        var toasts = ["success", "warning", "error", "info"];
        var cc = new captainCanvas("canvasBandit", "toolBandit", {"Shortcuts" : false, "DefaultEvents" : false});

        $(function () {
            // Declare a proxy to reference the hub.
            var chat = $.connection.chatHub;
            // Create a function that the hub can call to broadcast messages.
            chat.client.broadcastMessage = function (name, message, toast) {
                // Html encode display name and message.
                var encodedName = $('<div />').text(name).html();
                var encodedMsg = $('<div />').text(message).html();
                toastr[toast](message, name, { timeOut: 30000, positionClass : "toast-top-left" })
                //// Add the message to the page.
                //$('#discussion').append('<li><strong>' + encodedName
                //    + '</strong>:&nbsp;&nbsp;' + encodedMsg + '</li>');
            };
            chat.client.drawData = function (data, level) {
                var uha = JSON.parse(data);

                while (level > cc.dt.length -1) {
                    cc.dt.push([]);
                }

                cc.dt[level] = cc.dt[level].concat(uha);
                cc.dat();
             };

            // Get the user name and store it to prepend to messages.
            //$('#displayname').val(prompt('Enter your name:', ''));
            myName = names[Math.floor(Math.random() * names.length)];
            myToast = toasts[Math.floor(Math.random() * toasts.length)];
            // Set initial focus to message input box.
            $('#message').focus();
            // Start the connection.
            $.connection.hub.start().done(function () {
                $('#sendmessage').click(function () {
                    // Call the Send method on the hub.
                    chat.server.send(myName, $('#message').val(), myToast);
                    // chat.server.draw('[{"Fct":"fillStyle","Value":"Black"},{"Fct":"strokeStyle","Value":"Transparent"},{"Fct":"lineWidth","Value":"1"},{"Fct":"beginPath"},{"Fct":"arc","X":868,"Y":175,"Width":20,"StartAngle":0,"EndAngle":6.283185307179586},{"Fct":"closePath"},{"Fct":"fill"},{"Fct":"stroke"},{"Fct":"beginPath"},{"Fct":"arc","X":868,"Y":175,"Width":20,"StartAngle":0,"EndAngle":6.283185307179586},{"Fct":"closePath"},{"Fct":"fill"},{"Fct":"stroke"},{"Fct":"beginPath"},{"Fct":"arc","X":869,"Y":175,"Width":20,"StartAngle":0,"EndAngle":6.283185307179586},{"Fct":"closePath"},{"Fct":"fill"},{"Fct":"stroke"},{"Fct":"beginPath"},{"Fct":"arc","X":876,"Y":176,"Width":20,"StartAngle":0,"EndAngle":6.283185307179586},{"Fct":"closePath"},{"Fct":"fill"},{"Fct":"stroke"},{"Fct":"beginPath"},{"Fct":"arc","X":901,"Y":184,"Width":20,"StartAngle":0,"EndAngle":6.283185307179586},{"Fct":"closePath"},{"Fct":"fill"},{"Fct":"stroke"},{"Fct":"beginPath"},{"Fct":"arc","X":947,"Y":203,"Width":20,"StartAngle":0,"EndAngle":6.283185307179586},{"Fct":"closePath"},{"Fct":"fill"},{"Fct":"stroke"},{"Fct":"beginPath"},{"Fct":"arc","X":979,"Y":221,"Width":20,"StartAngle":0,"EndAngle":6.283185307179586},{"Fct":"closePath"},{"Fct":"fill"},{"Fct":"stroke"},{"Fct":"beginPath"},{"Fct":"arc","X":1000,"Y":237,"Width":20,"StartAngle":0,"EndAngle":6.283185307179586},{"Fct":"closePath"},{"Fct":"fill"},{"Fct":"stroke"},{"Fct":"beginPath"},{"Fct":"arc","X":1011,"Y":253,"Width":20,"StartAngle":0,"EndAngle":6.283185307179586},{"Fct":"closePath"},{"Fct":"fill"},{"Fct":"stroke"},{"Fct":"beginPath"},{"Fct":"arc","X":1015,"Y":263,"Width":20,"StartAngle":0,"EndAngle":6.283185307179586},{"Fct":"closePath"},{"Fct":"fill"},{"Fct":"stroke"},{"Fct":"beginPath"},{"Fct":"arc","X":1015,"Y":269,"Width":20,"StartAngle":0,"EndAngle":6.283185307179586},{"Fct":"closePath"},{"Fct":"fill"},{"Fct":"stroke"},{"Fct":"beginPath"},{"Fct":"arc","X":1015,"Y":273,"Width":20,"StartAngle":0,"EndAngle":6.283185307179586},{"Fct":"closePath"},{"Fct":"fill"},{"Fct":"stroke"},{"Fct":"beginPath"},{"Fct":"arc","X":1011,"Y":276,"Width":20,"StartAngle":0,"EndAngle":6.283185307179586},{"Fct":"closePath"},{"Fct":"fill"},{"Fct":"stroke"},{"Fct":"beginPath"},{"Fct":"arc","X":1009,"Y":277,"Width":20,"StartAngle":0,"EndAngle":6.283185307179586},{"Fct":"closePath"},{"Fct":"fill"},{"Fct":"stroke"},{"Fct":"beginPath"},{"Fct":"arc","X":1008,"Y":278,"Width":20,"StartAngle":0,"EndAngle":6.283185307179586},{"Fct":"closePath"},{"Fct":"fill"},{"Fct":"stroke"}]', 1);
                    // Clear text box and reset focus for next comment.
                    $('#message').val('').focus();
                });
                cc.id.addEventListener("mousemove", function (event) {
                    cc.brs.Slc = document.getElementsByClassName(cc.tl.id + "_selectedFunction")[0].value;
                    if (cc.brs.Slc != "Linie" && cc.brs.Slc.indexOf("Figur") == -1) {
                        cc.dim();
                        var z = [];
                        var f = document.getElementsByClassName(cc.tl.id + "_selectedFunction")[0].value;
                        var x = event.pageX - cc.id.offsetLeft;
                        var y = event.pageY - cc.id.offsetTop;
                        var w = parseInt(cc.brs.Wth);
                        var h = parseInt(cc.brs.Hgt);
                        var s = 0;
                        var e = 2 * Math.PI;
                        if (f == "Firkant (Fyld)") {
                            z.push({ "Fct": "fillRect", "X": x, "Y": y, "Width": w, "Height": h });
                        }
                        else if (f == "Firkant (Streg)") {
                            z.push({ "Fct": "strokeRect", "X": x, "Y": y, "Width": w, "Height": h });
                        }
                        else if (f == "Firkant") {
                            z.push({ "Fct": "beginPath" });
                            z.push({ "Fct": "rect", "X": x, "Y": y, "Width": w, "Height": h });
                            z.push({ "Fct": "closePath" });
                            z.push({ "Fct": "fill" });
                            z.push({ "Fct": "stroke" });
                        }
                        else if (f == "Cirkel") {
                            z.push({ "Fct": "beginPath" });
                            z.push({ "Fct": "arc", "X": x, "Y": y, "Width": w, "StartAngle": s, "EndAngle": e });
                            z.push({ "Fct": "closePath" });
                            z.push({ "Fct": "fill" });
                            z.push({ "Fct": "stroke" });
                        }
                        else if (f == "Stjerne") {
                            let innerRadius = w;
                            let outerRadius = h;
                            let spikes = 5;
                            let rot = Math.PI / 2 * 3;
                            let thisx = x;
                            let thisy = y;
                            let step = Math.PI / spikes;
                            z.push({ "Fct": "beginPath" });
                            z.push({ "Fct": "moveTo", "X": x, "Y": y - outerRadius });
                            for (let i = 0; i < spikes; i++) {
                                thisx = x + Math.cos(rot) * outerRadius;
                                thisy = y + Math.sin(rot) * outerRadius;
                                z.push({ "Fct": "lineTo", "X": thisx, "Y": thisy });
                                rot += step
                                thisx = x + Math.cos(rot) * innerRadius;
                                thisy = y + Math.sin(rot) * innerRadius;
                                z.push({ "Fct": "lineTo", "X": thisx, "Y": thisy });
                                rot += step
                            }
                            z.push({ "Fct": "lineTo", "X": x, "Y": y - outerRadius });
                            z.push({ "Fct": "closePath" });
                            z.push({ "Fct": "fill" });
                            z.push({ "Fct": "stroke" });
                        }
                        else if (f == "Trekant") {
                            z.push({ "Fct": "beginPath" });
                            z.push({ "Fct": "moveTo", "X": x, "Y": y });
                            z.push({ "Fct": "lineTo", "X": (x + w), "Y": y });
                            z.push({ "Fct": "lineTo", "X": (x + w / 2), "Y": (y + h) });
                            z.push({ "Fct": "closePath" });
                            z.push({ "Fct": "fill" });
                            z.push({ "Fct": "stroke" });
                        }
                        else if (f == "Trekant (Ret)") {
                            z.push({ "Fct": "beginPath" });
                            z.push({ "Fct": "moveTo", "X": x, "Y": y });
                            z.push({ "Fct": "lineTo", "X": (x + w), "Y": (y + h) });
                            z.push({ "Fct": "lineTo", "X": x, "Y": (y + h) });
                            z.push({ "Fct": "closePath" });
                            z.push({ "Fct": "fill" });
                            z.push({ "Fct": "stroke" });
                        }
                        else if (f == "Rhombe") {
                            z.push({ "Fct": "beginPath" });
                            z.push({ "Fct": "moveTo", "X": x, "Y": y });
                            z.push({ "Fct": "lineTo", "X": (x + w) - (w / 5), "Y": y });
                            z.push({ "Fct": "lineTo", "X": (x + w), "Y": (y + h) });
                            z.push({ "Fct": "lineTo", "X": x + (w / 5), "Y": (y + h) });
                            z.push({ "Fct": "closePath" });
                            z.push({ "Fct": "fill" });
                            z.push({ "Fct": "stroke" });
                        }
                        else if (f == "Trapezoid") {
                            z.push({ "Fct": "beginPath" });
                            z.push({ "Fct": "moveTo", "X": x + (w / 5), "Y": y });
                            z.push({ "Fct": "lineTo", "X": (x + w) - (w / 5), "Y": y });
                            z.push({ "Fct": "lineTo", "X": (x + w), "Y": (y + h) });
                            z.push({ "Fct": "lineTo", "X": x, "Y": (y + h) });
                            z.push({ "Fct": "closePath" });
                            z.push({ "Fct": "fill" });
                            z.push({ "Fct": "stroke" });
                        }
                        else if (f == "Ellipse") {
                            let kappa = .5522848;
                            let ox = (w / 2) * kappa;
                            let oy = (h / 2) * kappa;
                            let xe = x + w;
                            let ye = y + h;
                            let xm = x + w / 2;
                            let ym = y + h / 2;
                            z.push({ "Fct": "beginPath" });
                            z.push({ "Fct": "moveTo", "X": x, "Y": ym });
                            z.push({ "Fct": "bezierCurveTo", "Cpx": x, "Cpy": ym - oy, "Cpx2": xm - ox, "Cpy2": y, "X": xm, "Y": y });
                            z.push({ "Fct": "bezierCurveTo", "Cpx": xm + ox, "Cpy": y, "Cpx2": xe, "Cpy2": ym - oy, "X": xe, "Y": ym });
                            z.push({ "Fct": "bezierCurveTo", "Cpx": xe, "Cpy": ym + oy, "Cpx2": xm + ox, "Cpy2": ye, "X": xm, "Y": ye });
                            z.push({ "Fct": "bezierCurveTo", "Cpx": xm - ox, "Cpy": ye, "Cpx2": x, "Cpy2": ym + oy, "X": x, "Y": ym });
                            z.push({ "Fct": "closePath" });
                            z.push({ "Fct": "fill" });
                            z.push({ "Fct": "stroke" });
                        }
                        else if (f == "Smiley") {
                            z.push({ "Fct": "beginPath" });
                            z.push({ "Fct": "arc", "X": x, "Y": y, "Width": w, "StartAngle": s, "EndAngle": e, "Anticlockwise": true });
                            z.push({ "Fct": "moveTo", "X": (x + w - (w * 3 / 10)), "Y": y });
                            z.push({ "Fct": "arc", "X": x, "Y": y, "Width": (w / 2) + (w / 5), "StartAngle": s, "EndAngle": Math.PI, "Anticlockwise": false });
                            z.push({ "Fct": "moveTo", "X": x - (w / 5), "Y": y - (w / 5) });
                            z.push({ "Fct": "arc", "X": x - (w * 3 / 10), "Y": y - (w / 5), "Width": (w / 10), "StartAngle": s, "EndAngle": e, "Anticlockwise": true });
                            z.push({ "Fct": "moveTo", "X": x + (w * 2 / 5), "Y": (y - (w / 5)) });
                            z.push({ "Fct": "arc", "X": x + (w * 3 / 10), "Y": y - (w / 5), "Width": (w / 10), "StartAngle": s, "EndAngle": e, "Anticlockwise": true });
                            z.push({ "Fct": "closePath" });
                            z.push({ "Fct": "fill" });
                            z.push({ "Fct": "stroke" });
                        }
                        else if (f == "Hjerte") {
                            let d = Math.min(w, w);
                            z.push({ "Fct": "beginPath" });
                            z.push({ "Fct": "moveTo", "X": x, "Y": y + d / 4 });
                            z.push({ "Fct": "quadraticCurveTo", "Cpx": x, "Cpy": y, "X": x + d / 4, "Y": y });
                            z.push({ "Fct": "quadraticCurveTo", "Cpx": x + d / 2, "Cpy": y, "X": x + d / 2, "Y": y + d / 4 });
                            z.push({ "Fct": "quadraticCurveTo", "Cpx": x + d / 2, "Cpy": y, "X": x + d * 3 / 4, "Y": y });
                            z.push({ "Fct": "quadraticCurveTo", "Cpx": x + d, "Cpy": y, "X": x + d, "Y": y + d / 4 });
                            z.push({ "Fct": "quadraticCurveTo", "Cpx": x + d, "Cpy": y + d / 2, "X": x + d * 3 / 4, "Y": y + d * 3 / 4 });
                            z.push({ "Fct": "lineTo", "X": x + d / 2, "Y": y + d });
                            z.push({ "Fct": "lineTo", "X": x + d / 4, "Y": y + d * 3 / 4 });
                            z.push({ "Fct": "quadraticCurveTo", "Cpx": x, "Cpy": y + d / 2, "X": x, "Y": y + d / 4 });
                            z.push({ "Fct": "closePath" });
                            z.push({ "Fct": "fill" });
                            z.push({ "Fct": "stroke" });
                        }

                        if (cc.drg) {
                            // cc.dt[cc.ix] = cc.dt[cc.ix].concat(z);
                        }

                        cc.dat();

                        if (!cc.drg) {
                            for (let i = 0; i < z.length; i++) {
                                cc.drafi("globalAlpha", null, null, null, null, "0.8");
                                cc.drafi(z[i].Fct,
                                    z[i].X,
                                    z[i].Y,
                                    z[i].Width,
                                    z[i].Height,
                                    z[i].Value,
                                    z[i].StartAngle,
                                    z[i].EndAngle,
                                    z[i].Angle,
                                    z[i].Colour,
                                    z[i].Offset,
                                    z[i].Text,
                                    z[i].MaxWidth,
                                    z[i].Radius,
                                    z[i].X2,
                                    z[i].Y2,
                                    z[i].Cpx,
                                    z[i].Cpy,
                                    z[i].Cpx2,
                                    z[i].Cpy2,
                                    z[i].RadiusY,
                                    z[i].Rotation,
                                    z[i].Anticlockwise
                                );
                                cc.drafi("globalAlpha", null, null, null, null, "1");
                            }
                        }
                    }
                    else if (cc.brs.Slc == "Linie") {
                        if (cc.brs.LastX != null || cc.brs.LastY != null) {
                            let x = event.pageX - cc.id.offsetLeft;
                            let y = event.pageY - cc.id.offsetTop;
                            cc.dim();
                            cc.dat();
                            cc.drafi("lineTo", x, y);
                            cc.drafi("closePath");
                            cc.drafi("stroke");
                        }
                    }
                    else if (cc.brs.Slc.indexOf("Figur") != -1) {
                        if (cc.brs.LastX != null || cc.brs.LastY != null) {
                            let x = event.pageX - cc.id.offsetLeft;
                            let y = event.pageY - cc.id.offsetTop;
                            cc.dim();
                            cc.dat();
                            for (let i = 0; i < cc.brs.Buff.length; i++) {
                                cc.drafi(cc.brs.Buff[i].Fct,
                                    cc.brs.Buff[i].X,
                                    cc.brs.Buff[i].Y
                                );
                            }
                            cc.drafi("lineTo", x, y);
                            cc.drafi("closePath");
                            cc.drafi("stroke");
                            if (cc.brs.Buff.length > 0) {
                                if (x >= (cc.brs.Buff[1].X - 5) && x <= (cc.brs.Buff[1].X + 5) && y >= (cc.brs.Buff[1].Y - 5) && y <= (cc.brs.Buff[1].Y + 5)) {
                                    // cc.drafi("fillRect", x, y, 25, 25);
                                    cc.drafi("closePath");
                                    cc.drafi("fill");
                                    cc.drafi("stroke");
                                }
                            }
                        }
                    }
                });
                cc.id.addEventListener("mousedown", function (event) {
                    cc.drg = true;
                    cc.brs.Slc = document.getElementsByClassName(cc.tl.id + "_selectedFunction")[0].value;
                    if (cc.brs.Slc != "Linie" && cc.brs.Slc.indexOf("Figur") == -1) {
                        cc.dim();
                        var z = [];
                        var f = document.getElementsByClassName(cc.tl.id + "_selectedFunction")[0].value;
                        var x = event.pageX - cc.id.offsetLeft;
                        var y = event.pageY - cc.id.offsetTop;
                        var w = parseInt(cc.brs.Wth);
                        var h = parseInt(cc.brs.Hgt);
                        var s = 0;
                        var e = 2 * Math.PI;
                        if (f == "Firkant (Fyld)") {
                            z.push({ "Fct": "fillRect", "X": x, "Y": y, "Width": w, "Height": h });
                        }
                        else if (f == "Firkant (Streg)") {
                            z.push({ "Fct": "strokeRect", "X": x, "Y": y, "Width": w, "Height": h });
                        }
                        else if (f == "Firkant") {
                            z.push({ "Fct": "beginPath" });
                            z.push({ "Fct": "rect", "X": x, "Y": y, "Width": w, "Height": h });
                            z.push({ "Fct": "closePath" });
                            z.push({ "Fct": "fill" });
                            z.push({ "Fct": "stroke" });
                        }
                        else if (f == "Cirkel") {
                            z.push({ "Fct": "beginPath" });
                            z.push({ "Fct": "arc", "X": x, "Y": y, "Width": w, "StartAngle": s, "EndAngle": e });
                            z.push({ "Fct": "closePath" });
                            z.push({ "Fct": "fill" });
                            z.push({ "Fct": "stroke" });
                        }
                        else if (f == "Stjerne") {
                            let innerRadius = w;
                            let outerRadius = h;
                            let spikes = 5;
                            let rot = Math.PI / 2 * 3;
                            let thisx = x;
                            let thisy = y;
                            let step = Math.PI / spikes;
                            z.push({ "Fct": "beginPath" });
                            z.push({ "Fct": "moveTo", "X": x, "Y": y - outerRadius });
                            for (let i = 0; i < spikes; i++) {
                                thisx = x + Math.cos(rot) * outerRadius;
                                thisy = y + Math.sin(rot) * outerRadius;
                                z.push({ "Fct": "lineTo", "X": thisx, "Y": thisy });
                                rot += step
                                thisx = x + Math.cos(rot) * innerRadius;
                                thisy = y + Math.sin(rot) * innerRadius;
                                z.push({ "Fct": "lineTo", "X": thisx, "Y": thisy });
                                rot += step
                            }
                            z.push({ "Fct": "lineTo", "X": x, "Y": y - outerRadius });
                            z.push({ "Fct": "closePath" });
                            z.push({ "Fct": "fill" });
                            z.push({ "Fct": "stroke" });
                        }
                        else if (f == "Trekant") {
                            z.push({ "Fct": "beginPath" });
                            z.push({ "Fct": "moveTo", "X": x, "Y": y });
                            z.push({ "Fct": "lineTo", "X": (x + w), "Y": y });
                            z.push({ "Fct": "lineTo", "X": (x + w / 2), "Y": (y + h) });
                            z.push({ "Fct": "closePath" });
                            z.push({ "Fct": "fill" });
                            z.push({ "Fct": "stroke" });
                        }
                        else if (f == "Trekant (Ret)") {
                            z.push({ "Fct": "beginPath" });
                            z.push({ "Fct": "moveTo", "X": x, "Y": y });
                            z.push({ "Fct": "lineTo", "X": (x + w), "Y": (y + h) });
                            z.push({ "Fct": "lineTo", "X": x, "Y": (y + h) });
                            z.push({ "Fct": "closePath" });
                            z.push({ "Fct": "fill" });
                            z.push({ "Fct": "stroke" });
                        }
                        else if (f == "Rhombe") {
                            z.push({ "Fct": "beginPath" });
                            z.push({ "Fct": "moveTo", "X": x, "Y": y });
                            z.push({ "Fct": "lineTo", "X": (x + w) - (w / 5), "Y": y });
                            z.push({ "Fct": "lineTo", "X": (x + w), "Y": (y + h) });
                            z.push({ "Fct": "lineTo", "X": x + (w / 5), "Y": (y + h) });
                            z.push({ "Fct": "closePath" });
                            z.push({ "Fct": "fill" });
                            z.push({ "Fct": "stroke" });
                        }
                        else if (f == "Trapezoid") {
                            z.push({ "Fct": "beginPath" });
                            z.push({ "Fct": "moveTo", "X": x + (w / 5), "Y": y });
                            z.push({ "Fct": "lineTo", "X": (x + w) - (w / 5), "Y": y });
                            z.push({ "Fct": "lineTo", "X": (x + w), "Y": (y + h) });
                            z.push({ "Fct": "lineTo", "X": x, "Y": (y + h) });
                            z.push({ "Fct": "closePath" });
                            z.push({ "Fct": "fill" });
                            z.push({ "Fct": "stroke" });
                        }
                        else if (f == "Ellipse") {
                            let kappa = .5522848;
                            let ox = (w / 2) * kappa;
                            let oy = (h / 2) * kappa;
                            let xe = x + w;
                            let ye = y + h;
                            let xm = x + w / 2;
                            let ym = y + h / 2;
                            z.push({ "Fct": "beginPath" });
                            z.push({ "Fct": "moveTo", "X": x, "Y": ym });
                            z.push({ "Fct": "bezierCurveTo", "Cpx": x, "Cpy": ym - oy, "Cpx2": xm - ox, "Cpy2": y, "X": xm, "Y": y });
                            z.push({ "Fct": "bezierCurveTo", "Cpx": xm + ox, "Cpy": y, "Cpx2": xe, "Cpy2": ym - oy, "X": xe, "Y": ym });
                            z.push({ "Fct": "bezierCurveTo", "Cpx": xe, "Cpy": ym + oy, "Cpx2": xm + ox, "Cpy2": ye, "X": xm, "Y": ye });
                            z.push({ "Fct": "bezierCurveTo", "Cpx": xm - ox, "Cpy": ye, "Cpx2": x, "Cpy2": ym + oy, "X": x, "Y": ym });
                            z.push({ "Fct": "closePath" });
                            z.push({ "Fct": "fill" });
                            z.push({ "Fct": "stroke" });
                        }
                        else if (f == "Smiley") {
                            z.push({ "Fct": "beginPath" });
                            z.push({ "Fct": "arc", "X": x, "Y": y, "Width": w, "StartAngle": s, "EndAngle": e, "Anticlockwise": true });
                            z.push({ "Fct": "moveTo", "X": (x + w - (w * 3 / 10)), "Y": y });
                            z.push({ "Fct": "arc", "X": x, "Y": y, "Width": (w / 2) + (w / 5), "StartAngle": s, "EndAngle": Math.PI, "Anticlockwise": false });
                            z.push({ "Fct": "moveTo", "X": x - (w / 5), "Y": y - (w / 5) });
                            z.push({ "Fct": "arc", "X": x - (w * 3 / 10), "Y": y - (w / 5), "Width": (w / 10), "StartAngle": s, "EndAngle": e, "Anticlockwise": true });
                            z.push({ "Fct": "moveTo", "X": x + (w * 2 / 5), "Y": (y - (w / 5)) });
                            z.push({ "Fct": "arc", "X": x + (w * 3 / 10), "Y": y - (w / 5), "Width": (w / 10), "StartAngle": s, "EndAngle": e, "Anticlockwise": true });
                            z.push({ "Fct": "closePath" });
                            z.push({ "Fct": "fill" });
                            z.push({ "Fct": "stroke" });
                        }
                        else if (f == "Hjerte") {
                            let d = Math.min(w, w);
                            z.push({ "Fct": "beginPath" });
                            z.push({ "Fct": "moveTo", "X": x, "Y": y + d / 4 });
                            z.push({ "Fct": "quadraticCurveTo", "Cpx": x, "Cpy": y, "X": x + d / 4, "Y": y });
                            z.push({ "Fct": "quadraticCurveTo", "Cpx": x + d / 2, "Cpy": y, "X": x + d / 2, "Y": y + d / 4 });
                            z.push({ "Fct": "quadraticCurveTo", "Cpx": x + d / 2, "Cpy": y, "X": x + d * 3 / 4, "Y": y });
                            z.push({ "Fct": "quadraticCurveTo", "Cpx": x + d, "Cpy": y, "X": x + d, "Y": y + d / 4 });
                            z.push({ "Fct": "quadraticCurveTo", "Cpx": x + d, "Cpy": y + d / 2, "X": x + d * 3 / 4, "Y": y + d * 3 / 4 });
                            z.push({ "Fct": "lineTo", "X": x + d / 2, "Y": y + d });
                            z.push({ "Fct": "lineTo", "X": x + d / 4, "Y": y + d * 3 / 4 });
                            z.push({ "Fct": "quadraticCurveTo", "Cpx": x, "Cpy": y + d / 2, "X": x, "Y": y + d / 4 });
                            z.push({ "Fct": "closePath" });
                            z.push({ "Fct": "fill" });
                            z.push({ "Fct": "stroke" });
                        }

                        if (cc.drg) {
                            //cc.dt[cc.ix] = cc.dt[cc.ix].concat(z);
                            chat.server.draw(JSON.stringify(z), 1);
                        }

                        cc.dat();

                        if (!cc.drg) {
                            for (let i = 0; i < z.length; i++) {
                                cc.drafi("globalAlpha", null, null, null, null, "0.8");
                                cc.drafi(z[i].Fct,
                                    z[i].X,
                                    z[i].Y,
                                    z[i].Width,
                                    z[i].Height,
                                    z[i].Value,
                                    z[i].StartAngle,
                                    z[i].EndAngle,
                                    z[i].Angle,
                                    z[i].Colour,
                                    z[i].Offset,
                                    z[i].Text,
                                    z[i].MaxWidth,
                                    z[i].Radius,
                                    z[i].X2,
                                    z[i].Y2,
                                    z[i].Cpx,
                                    z[i].Cpy,
                                    z[i].Cpx2,
                                    z[i].Cpy2,
                                    z[i].RadiusY,
                                    z[i].Rotation,
                                    z[i].Anticlockwise
                                );
                                cc.drafi("globalAlpha", null, null, null, null, "1");
                            }
                        }
                    }
                    else if (cc.brs.Slc == "Linie") {
                        let x = event.pageX - cc.id.offsetLeft;
                        let y = event.pageY - cc.id.offsetTop;
                        if (cc.brs.LastX == null || cc.brs.LastY == null) {
                            cc.dt[cc.ix].push({ "Fct": "beginPath" });
                            cc.dt[cc.ix].push({ "Fct": "moveTo", "X": x, "Y": y });
                            cc.brs.LastX = x;
                            cc.brs.LastY = y;
                        }
                        else {
                            cc.dt[cc.ix].push({ "Fct": "lineTo", "X": x, "Y": y });
                            cc.dt[cc.ix].push({ "Fct": "stroke" });
                            cc.dim();
                            cc.dat();
                            cc.brs.LastX = null;
                            cc.brs.LastY = null;
                        }
                    }
                    else if (cc.brs.Slc.indexOf("Figur") != -1) {
                        let x = event.pageX - cc.id.offsetLeft;
                        let y = event.pageY - cc.id.offsetTop;
                        let reset = false;

                        if (cc.brs.Buff.length > 0) {
                            if (x >= (cc.brs.Buff[1].X - 5) && x <= (cc.brs.Buff[1].X + 5) && y >= (cc.brs.Buff[1].Y - 5) && y <= (cc.brs.Buff[1].Y + 5)) {
                                cc.brs.Buff.push({ "Fct": "lineTo", "X": cc.brs.Buff[1].X, "Y": cc.brs.Buff[1].Y });
                                cc.brs.Buff.push({ "Fct": "closePath" });
                                cc.brs.Buff.push({ "Fct": "stroke" });
                                cc.brs.Buff.push({ "Fct": "fill" });
                                cc.dt[cc.ix] = cc.dt[cc.ix].concat(cc.brs.Buff);
                                cc.dat();
                                cc.brs.LastX = null;
                                cc.brs.LastY = null;
                                cc.brs.Buff = [];
                                reset = true;
                            }
                        }
                        if (!reset) {
                            if (cc.brs.LastX == null || cc.brs.LastY == null) {
                                cc.brs.Buff.push({ "Fct": "beginPath" });
                                cc.brs.Buff.push({ "Fct": "moveTo", "X": x, "Y": y });
                                cc.brs.LastX = x;
                                cc.brs.LastY = y;
                            }
                            else {
                                cc.brs.Buff.push({ "Fct": "lineTo", "X": x, "Y": y });
                                cc.dim();
                                cc.dat();
                                for (let i = 0; i < cc.brs.Buff.length; i++) {
                                    cc.drafi(cc.brs.Buff[i].Fct,
                                    cc.brs.Buff[i].X,
                                    cc.brs.Buff[i].Y
                                    );
                                }
                                cc.drafi("stroke");					
                            }
                        }
                    }
                });
                cc.id.addEventListener("mouseup", function () {
                    cc.drg = false;
                    if (document.getElementsByClassName(cc.tl.id + "_dataToggler")[0].checked) {
                        document.getElementsByClassName(cc.tl.id + "_dataEditArea")[0].value = JSON.stringify(cc.dt[cc.ix]);
                        document.getElementsByClassName(cc.tl.id + "_dataEditArea")[0].style.display = "block";
                    }
                    else {
                        document.getElementsByClassName(cc.tl.id + "_dataEditArea")[0].value = "";
                        document.getElementsByClassName(cc.tl.id + "_dataEditArea")[0].style.display = "none";
                    }
                });
                cc.id.addEventListener("mouseout", function () {
                    cc.drg = false;
                });
            });
        });
    </script>
</body>
</html>